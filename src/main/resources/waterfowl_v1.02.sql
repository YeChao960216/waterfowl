-- MySQL Script generated by MySQL Workbench
-- Thu Nov  2 17:03:30 2017
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

-- -----------------------------------------------------
-- Schema waterfowl
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `waterfowl` DEFAULT CHARACTER SET utf8 ;
USE `waterfowl` ;

-- -----------------------------------------------------
-- Table `waterfowl`.`user`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `waterfowl`.`user` (
  `id` VARCHAR(45) NOT NULL COMMENT '人员管理表编号',
  `username` VARCHAR(45) NULL DEFAULT NULL COMMENT '用户名',
  `password` VARCHAR(45) NULL DEFAULT NULL COMMENT '登录密码',
  `duty` VARCHAR(45) NULL DEFAULT NULL COMMENT '员工职责',
  `name` VARCHAR(45) NULL DEFAULT NULL COMMENT '员工姓名',
  `gender` TINYINT(4) NULL DEFAULT NULL COMMENT '性别',
  `entry` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '入职时间',
  `sign` VARCHAR(45) NULL DEFAULT NULL COMMENT '入职状态标记:在职1,离职0',
  `turnover` TIMESTAMP NULL DEFAULT NULL COMMENT '离职时间',
  `remark` VARCHAR(45) NULL DEFAULT NULL COMMENT '备注',
  `role_id` VARCHAR(45) NULL DEFAULT NULL COMMENT '角色编号',
  `phone` VARCHAR(45) NULL DEFAULT NULL COMMENT '人员联系电话',
  PRIMARY KEY (`id`),
  UNIQUE INDEX `username_UNIQUE` (`username` ASC),
  INDEX `fk_user_role1_idx` (`role_id` ASC))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `waterfowl`.`fowlery`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `waterfowl`.`fowlery` (
  `id` VARCHAR(45) NOT NULL COMMENT '禽舍管理表',
  `date_establish` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '建立日期',
  `address` VARCHAR(45) NULL DEFAULT NULL COMMENT '地址',
  `num_max` INT(11) NULL DEFAULT NULL COMMENT '最大纳员数量',
  `remark` VARCHAR(200) NULL DEFAULT NULL COMMENT '备注',
  `id_recorder` VARCHAR(45) NULL DEFAULT NULL COMMENT '记录者编号',
  `id_charge` VARCHAR(45) NULL DEFAULT NULL COMMENT '负责人编号',
  PRIMARY KEY (`id`),
  INDEX `fk_fowlery_user1_idx` (`id_recorder` ASC),
  INDEX `fk_fowlery_user2_idx` (`id_charge` ASC),
  CONSTRAINT `fowlery_ibfk_1`
    FOREIGN KEY (`id_recorder`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fowlery_ibfk_2`
    FOREIGN KEY (`id_charge`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `waterfowl`.`poultry`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `waterfowl`.`poultry` (
  `id_poultry` VARCHAR(45) NOT NULL COMMENT '家禽记录表',
  `sign` TINYINT(4) NULL DEFAULT NULL COMMENT '标记：0表示出库，1表示入库',
  `date` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '记录日期',
  `name` VARCHAR(45) NULL DEFAULT NULL COMMENT '家禽名称',
  `quantity` VARCHAR(45) NULL DEFAULT NULL COMMENT '本批次个体数',
  `unit` VARCHAR(45) NULL DEFAULT NULL COMMENT '计数单位',
  `associated_firm` VARCHAR(45) NULL DEFAULT NULL COMMENT '关联厂商',
  `phone` VARCHAR(45) NULL DEFAULT NULL COMMENT '关联厂商电话',
  `remark` VARCHAR(200) NULL DEFAULT NULL COMMENT '备注',
  `id_recorder` VARCHAR(45) NULL DEFAULT NULL COMMENT '记录者编号',
  `id_charge` VARCHAR(45) NULL DEFAULT NULL COMMENT '负责人编号',
  PRIMARY KEY (`id_poultry`),
  UNIQUE INDEX `Id_UNIQUE` (`id_poultry` ASC),
  INDEX `fk_material_user1_idx` (`id_recorder` ASC),
  INDEX `fk_material_user2_idx` (`id_charge` ASC),
  CONSTRAINT `material_ibfk_20`
    FOREIGN KEY (`id_recorder`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `material_ibfk_30`
    FOREIGN KEY (`id_charge`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `waterfowl`.`material`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `waterfowl`.`material` (
  `id_material` VARCHAR(45) NOT NULL COMMENT '材料入厂记录表',
  `sign` TINYINT(4) NULL DEFAULT NULL COMMENT '标记：0表示出库，1表示入库',
  `date` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '记录日期',
  `name` VARCHAR(45) NULL DEFAULT NULL COMMENT '材料名称',
  `quantity` VARCHAR(45) NULL DEFAULT NULL COMMENT '材料数量',
  `unit` VARCHAR(45) NULL DEFAULT NULL COMMENT '计数单位',
  `associated_firm` VARCHAR(45) NULL DEFAULT NULL COMMENT '关联厂商',
  `phone` VARCHAR(45) NULL DEFAULT NULL COMMENT '关联厂商电话',
  `remark` VARCHAR(200) NULL DEFAULT NULL COMMENT '备注',
  `id_recorder` VARCHAR(45) NULL DEFAULT NULL COMMENT '记录者编号',
  `id_charge` VARCHAR(45) NULL DEFAULT NULL COMMENT '负责人编号',
  PRIMARY KEY (`id_material`),
  UNIQUE INDEX `Id_UNIQUE` (`id_material` ASC),
  INDEX `fk_material_user1_idx` (`id_recorder` ASC),
  INDEX `fk_material_user2_idx` (`id_charge` ASC),
  CONSTRAINT `material_ibfk_2`
    FOREIGN KEY (`id_recorder`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `material_ibfk_3`
    FOREIGN KEY (`id_charge`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `waterfowl`.`storage`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `waterfowl`.`storage` (
  `id_storage` VARCHAR(45) NOT NULL COMMENT '库存表',
  `expiration_date` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '产品有效期',
  `name` VARCHAR(45) NULL DEFAULT NULL COMMENT '材料名称',
  `quantity` VARCHAR(45) NULL DEFAULT NULL COMMENT '库存材料数量',
  `unit` VARCHAR(45) NULL DEFAULT NULL COMMENT '计数单位',
  `storage_site` VARCHAR(45) NULL DEFAULT NULL COMMENT '储存地点',
  `storage_mode` VARCHAR(45) NULL DEFAULT NULL COMMENT '储存方式',
  `remark` VARCHAR(200) NULL DEFAULT NULL COMMENT '备注',
  `id_recorder` VARCHAR(45) NULL DEFAULT NULL COMMENT '记录者编号',
  `id_charge` VARCHAR(45) NULL DEFAULT NULL COMMENT '负责人编号',
  `id_material` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id_storage`),
  INDEX `fk_storage_user1_idx` (`id_recorder` ASC),
  INDEX `fk_storage_user2_idx` (`id_charge` ASC),
  INDEX `fk_storage_material1_idx` (`id_material` ASC),
  CONSTRAINT `fk_storage_material1`
    FOREIGN KEY (`id_material`)
    REFERENCES `waterfowl`.`material` (`id_material`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `storage_ibfk_1`
    FOREIGN KEY (`id_recorder`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `storage_ibfk_2`
    FOREIGN KEY (`id_charge`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `waterfowl`.`outstorage`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `waterfowl`.`outstorage` (
  `id_outstorage` VARCHAR(45) NOT NULL COMMENT '物资使用表',
  `date` TIMESTAMP NULL DEFAULT NULL,
  `name` VARCHAR(45) NULL DEFAULT NULL COMMENT '材料名称',
  `quantity` VARCHAR(45) NULL DEFAULT NULL COMMENT '材料数量',
  `unit` VARCHAR(45) NULL DEFAULT NULL COMMENT '计数单位',
  `remark` VARCHAR(200) NULL DEFAULT NULL COMMENT '备注',
  `id_recorder` VARCHAR(45) NULL DEFAULT NULL COMMENT '记录者编号',
  `id_charge` VARCHAR(45) NULL DEFAULT NULL COMMENT '负责人编号',
  `id_storage` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id_outstorage`),
  INDEX `fk_storage_user1_idx` (`id_recorder` ASC),
  INDEX `fk_storage_user2_idx` (`id_charge` ASC),
  INDEX `fk_outstorage_storage1_idx` (`id_storage` ASC),
  CONSTRAINT `fk_outstorage_storage1`
    FOREIGN KEY (`id_storage`)
    REFERENCES `waterfowl`.`storage` (`id_storage`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `storage_ibfk_10`
    FOREIGN KEY (`id_recorder`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `storage_ibfk_20`
    FOREIGN KEY (`id_charge`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `waterfowl`.`aquaculture`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `waterfowl`.`aquaculture` (
  `id` VARCHAR(45) NOT NULL COMMENT '养殖记录表',
  `id_fowlery` VARCHAR(45) NULL DEFAULT NULL COMMENT '禽舍表编号',
  `record_date` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '记录日期',
  `num_total` INT(11) NULL DEFAULT NULL COMMENT '当前个体总数',
  `feed_type` VARCHAR(45) NULL DEFAULT NULL COMMENT '饲料种类',
  `feed_weight` FLOAT NULL DEFAULT NULL COMMENT '饲料重量：单位为千克',
  `remark` VARCHAR(200) NULL DEFAULT NULL COMMENT '备注',
  `id_recorder` VARCHAR(45) NULL DEFAULT NULL COMMENT '记录者编号',
  `id_charge` VARCHAR(45) NULL DEFAULT NULL COMMENT '负责人编号',
  `id_poultry` VARCHAR(45) NULL DEFAULT NULL,
  `id_outstorage` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_aquaculture_user1_idx` (`id_recorder` ASC),
  INDEX `fk_aquaculture_user2_idx` (`id_charge` ASC),
  INDEX `fk_aquaculture_fowlery1_idx` (`id_fowlery` ASC),
  INDEX `fk_aquaculture_poultry1_idx` (`id_poultry` ASC),
  INDEX `fk_aquaculture_outstorage1_idx` (`id_outstorage` ASC),
  INDEX `fk_aquaculture_poultry1_idx1` (`id_poultry` ASC),
  INDEX `fk_aquaculture_outstorage1_idx1` (`id_outstorage` ASC),
  CONSTRAINT `aquaculture_ibfk_1`
    FOREIGN KEY (`id_fowlery`)
    REFERENCES `waterfowl`.`fowlery` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `aquaculture_ibfk_3`
    FOREIGN KEY (`id_recorder`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `aquaculture_ibfk_4`
    FOREIGN KEY (`id_charge`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_aquaculture_poultry1`
    FOREIGN KEY (`id_poultry`)
    REFERENCES `waterfowl`.`poultry` (`id_poultry`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_aquaculture_outstorage1`
    FOREIGN KEY (`id_outstorage`)
    REFERENCES `waterfowl`.`outstorage` (`id_outstorage`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `waterfowl`.`dictionary`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `waterfowl`.`dictionary` (
  `id` INT(11) NOT NULL COMMENT '导航栏编号',
  `name` VARCHAR(45) NULL DEFAULT NULL COMMENT '栏目名称',
  `pid` INT(11) NULL DEFAULT NULL COMMENT '上一级导航栏编号',
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `waterfowl`.`epidemic`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `waterfowl`.`epidemic` (
  `id_epidemic` VARCHAR(45) NOT NULL COMMENT '疫情记录表',
  `id_poultry` VARCHAR(45) NULL DEFAULT NULL,
  `id_fowlery` VARCHAR(45) NULL DEFAULT NULL COMMENT '禽舍编号',
  `date` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Date日期',
  `sign` VARCHAR(45) NULL DEFAULT NULL COMMENT '免疫、疫病标志',
  `diseaes` VARCHAR(45) NULL DEFAULT NULL COMMENT '疾病',
  `num_total` INT(11) NULL DEFAULT NULL COMMENT '个体总数',
  `num_infected` INT(11) NULL DEFAULT NULL COMMENT '染病个体数',
  `processing_mode` VARCHAR(45) NULL DEFAULT NULL COMMENT '处理方式',
  `medication_mode` VARCHAR(45) NULL DEFAULT NULL COMMENT '给药方式',
  `dose` FLOAT NULL DEFAULT NULL COMMENT '剂量',
  `dose_unit` VARCHAR(45) NULL DEFAULT NULL COMMENT '剂量对应单位，例：ml、g',
  `medication_amount` FLOAT NULL DEFAULT NULL COMMENT '用药总量，包含实际总使用量和损耗丢弃量。单位以对应消耗品在inv库存表中的unit属性为准，可以是：盒、ml、kg等',
  `unit` VARCHAR(45) NULL DEFAULT NULL COMMENT '用药总量单位',
  `remark` VARCHAR(200) NULL DEFAULT NULL COMMENT '备注',
  `id_recorder` VARCHAR(45) NULL DEFAULT NULL COMMENT '记录者编号',
  `id_charge` VARCHAR(45) NULL DEFAULT NULL COMMENT '负责人编号',
  `ddl_date` TIMESTAMP NULL DEFAULT NULL COMMENT '病死淘处理日期',
  `ddl_num` INT(11) NULL DEFAULT NULL COMMENT '需处理个体数量',
  `ddl_mode` VARCHAR(45) NULL DEFAULT NULL COMMENT 'processing_mode处理方式',
  `ddl_recorder` VARCHAR(45) NULL DEFAULT NULL COMMENT '死淘信息记录者',
  `ddl_charge` VARCHAR(45) NULL DEFAULT NULL COMMENT '死淘负责人',
  `id_outstorage` VARCHAR(45) NULL,
  PRIMARY KEY (`id_epidemic`),
  UNIQUE INDEX `Id_UNIQUE` (`id_epidemic` ASC),
  INDEX `fk_epidemic_fowlery1_idx` (`id_fowlery` ASC),
  INDEX `fk_epidemic_user1_idx` (`id_recorder` ASC),
  INDEX `fk_epidemic_user2_idx` (`id_charge` ASC),
  INDEX `fk_epidemic_poultry1_idx` (`id_poultry` ASC),
  INDEX `fk_epidemic_user1_idx1` (`ddl_recorder` ASC),
  INDEX `fk_epidemic_user2_idx1` (`ddl_charge` ASC),
  INDEX `fk_epidemic_outstorage1_idx` (`id_outstorage` ASC),
  CONSTRAINT `epidemic_ibfk_2`
    FOREIGN KEY (`id_fowlery`)
    REFERENCES `waterfowl`.`fowlery` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `epidemic_ibfk_4`
    FOREIGN KEY (`id_recorder`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `epidemic_ibfk_5`
    FOREIGN KEY (`id_charge`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_epidemic_poultry1`
    FOREIGN KEY (`id_poultry`)
    REFERENCES `waterfowl`.`poultry` (`id_poultry`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_epidemic_user1`
    FOREIGN KEY (`ddl_recorder`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_epidemic_user2`
    FOREIGN KEY (`ddl_charge`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_epidemic_outstorage1`
    FOREIGN KEY (`id_outstorage`)
    REFERENCES `waterfowl`.`outstorage` (`id_outstorage`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `waterfowl`.`permission`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `waterfowl`.`permission` (
  `id` VARCHAR(45) NOT NULL COMMENT '权限编号',
  `permission_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '权限名',
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `waterfowl`.`role`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `waterfowl`.`role` (
  `id` INT(11) NOT NULL COMMENT 'Permission table角色表',
  `name` VARCHAR(45) NULL DEFAULT NULL COMMENT '角色名',
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `waterfowl`.`role_permission`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `waterfowl`.`role_permission` (
  `role_id` INT(11) NOT NULL COMMENT '角色编号',
  `permission_id` VARCHAR(45) NOT NULL COMMENT '权限编号',
  INDEX `fk_role_role_permission` (`role_id` ASC),
  INDEX `fk_role_permission_permission` (`permission_id` ASC),
  CONSTRAINT `role_permission_ibfk_1`
    FOREIGN KEY (`permission_id`)
    REFERENCES `waterfowl`.`permission` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `role_permission_ibfk_2`
    FOREIGN KEY (`role_id`)
    REFERENCES `waterfowl`.`role` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `waterfowl`.`user_role`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `waterfowl`.`user_role` (
  `user_id` VARCHAR(45) NOT NULL,
  `role_id` INT(11) NOT NULL,
  INDEX `fk_user_has_permission_permission1_idx` (`role_id` ASC),
  INDEX `fk_user_has_permission_user1_idx` (`user_id` ASC),
  CONSTRAINT `user_role_ibfk_1`
    FOREIGN KEY (`user_id`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `user_role_ibfk_2`
    FOREIGN KEY (`role_id`)
    REFERENCES `waterfowl`.`role` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `waterfowl`.`weather`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `waterfowl`.`weather` (
  `id` VARCHAR(45) NOT NULL COMMENT '天气记录编号',
  `id_fowlery` VARCHAR(45) NULL DEFAULT NULL COMMENT '禽舍表编号',
  `date` TIMESTAMP NULL DEFAULT NULL COMMENT '日期',
  `humidity_in` FLOAT NULL DEFAULT NULL COMMENT '室内湿度：单位%',
  `humidity_out` VARCHAR(45) NULL DEFAULT NULL COMMENT '室外湿度：单位%',
  `co2` FLOAT NULL DEFAULT NULL COMMENT '二氧化碳浓度:单位ppm',
  `temperature_out` VARCHAR(45) NULL DEFAULT NULL COMMENT '室外温度:单位摄氏度',
  `temperature_in` FLOAT NULL DEFAULT NULL COMMENT '室内温度:单位摄氏度',
  `illuminance` FLOAT NULL DEFAULT NULL COMMENT '光照度:单位勒克斯(lx)',
  `h2s` FLOAT NULL DEFAULT NULL COMMENT '硫化氢浓度:单位ppm',
  `nh4` FLOAT NULL DEFAULT NULL COMMENT '氨气浓度:单位ppm',
  `dust` FLOAT NULL DEFAULT NULL COMMENT '粉尘浓度:单位mg/m3',
  `picture` VARCHAR(45) NULL DEFAULT NULL COMMENT '记录点视频图像截图存放位置',
  `remark` VARCHAR(45) NULL DEFAULT NULL COMMENT '备注',
  `id_recorder` VARCHAR(45) NULL DEFAULT NULL COMMENT '记录者编号',
  `id_charge` VARCHAR(45) NULL DEFAULT NULL COMMENT '负责人编号',
  PRIMARY KEY (`id`),
  INDEX `fk_weather_fowlery1_idx` (`id_fowlery` ASC),
  INDEX `fk_weather_user1_idx` (`id_recorder` ASC),
  INDEX `fk_weather_user2_idx` (`id_charge` ASC),
  CONSTRAINT `weather_ibfk_1`
    FOREIGN KEY (`id_fowlery`)
    REFERENCES `waterfowl`.`fowlery` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `weather_ibfk_2`
    FOREIGN KEY (`id_recorder`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `weather_ibfk_3`
    FOREIGN KEY (`id_charge`)
    REFERENCES `waterfowl`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


SELECT * FROM waterfowl.permission;
insert into waterfowl.permission(id,permission_name) value('1000','null');
insert into waterfowl.permission(id,permission_name) value('00','root');
insert into waterfowl.permission(id,permission_name) value('10','dictionary');
insert into waterfowl.permission(id,permission_name) value('20','user');
insert into waterfowl.permission(id,permission_name) value('30','permission');
insert into waterfowl.permission(id,permission_name) value('40','role');
insert into waterfowl.permission(id,permission_name) value('50','material');
insert into waterfowl.permission(id,permission_name) value('60','storage');
insert into waterfowl.permission(id,permission_name) value('70','outstorage');
insert into waterfowl.permission(id,permission_name) value('80','aquaculture');
insert into waterfowl.permission(id,permission_name) value('90','epidemic');
insert into waterfowl.permission(id,permission_name) value('100','fowlery');
insert into waterfowl.permission(id,permission_name) value('110','weather');

insert into waterfowl.role(id,name) value('0','admin');

insert into waterfowl.user(id,username,password,name,gender,sign,role_id,phone) value('0','zhanjia','12345','展佳','1','在职','0','12345678');
insert into waterfowl.user(id,username,password,name,gender,sign,role_id,phone) value('1','yingqi','12345','莹祺','1','在职','0','12345678');
insert into waterfowl.user(id,username,password,name,gender,sign,role_id,phone) value('2','yechao','12345','叶超','1','在职','0','12345678');
insert into waterfowl.user(id,username,password,name,gender,sign,role_id,phone) value('3','chengjun','12345','成君','1','在职','0','12345678');
insert into waterfowl.user(id,username,password,name,gender,sign,role_id,phone) value('4','hanqing','12345','瀚清','1','在职','0','12345678');
insert into waterfowl.user(id,username,password,name,gender,sign,role_id,phone) value('5','jinman','12345','锦曼','0','在职','0','12345678');
insert into waterfowl.user(id,username,password,name,gender,sign,role_id,phone) value('6','wenhao','12345','文浩','1','在职','0','12345678');
insert into waterfowl.user(id,username,password,name,gender,sign,role_id,phone) value('7','weijia','12345','伟佳','1','在职','0','12345678');
insert into waterfowl.user(id,username,password,name,gender,sign,role_id,phone) value('8','weijian','12345','伟健','1','在职','0','12345678');
insert into waterfowl.user(id,username,password,name,gender,sign,role_id,phone) value('9','weilong','12345','伟龙','1','在职','0','12345678');
insert into waterfowl.user(id,username,password,name,gender,sign,role_id,phone) value('10','wenzhi','12345','文智','1','在职','0','12345678');
insert into waterfowl.user(id,username,password,name,gender,sign,role_id,phone) value('11','test','12345','离职员工','100','离职','0','12345678');

insert into waterfowl.fowlery(id,date_establish,address,num_max,id_recorder,id_charge) 
value('0','2017-01-01 0:30;00','仲恺养鸡场1舍','500','0','0');

insert into waterfowl.weather(id,id_fowlery,id_recorder,id_charge) 
value('0','0','0','0');

insert into waterfowl.poultry(id_poultry,sign,date,name,quantity,unit,id_recorder,id_charge) 
value('201701010000',1,'2017-01-01 12:30;00','清远鸡','100.0','只','0','0');

insert into waterfowl.material(id_material,sign,date,name,quantity,unit,id_recorder,id_charge) 
value('00000000',1,'2017-01-01 12:30:00','稻谷','1000.0','kg','0','0');
insert into waterfowl.material(id_material,sign,date,name,quantity,unit,id_recorder,id_charge) 
value('00000001',1,'2017-01-01 12:30:00','稻谷','1000.0','kg','0','0');
insert into waterfowl.material(id_material,sign,date,name,quantity,unit,remark,id_recorder,id_charge) 
value('00000002',1,'2017-01-01 12:30:00','疫苗A','100','盒','每盒60ml','0','0');

insert into waterfowl.storage(id_storage,expiration_date,name,quantity,unit,storage_site,storage_mode,id_recorder,id_charge,id_material) 
value('00000010','2017-12-12 12:30:00','稻谷','1000.0','公斤','1号仓库','干燥通风','0','0','00000000');
insert into waterfowl.storage(id_storage,expiration_date,name,quantity,unit,storage_site,storage_mode,id_recorder,id_charge,id_material) 
value('00000011','2017-12-12 12:30:00','豆粉','500.0','公斤','1号仓库','干燥通风','0','0','00000001');
insert into waterfowl.storage(id_storage,expiration_date,name,quantity,unit,storage_site,storage_mode,remark,id_recorder,id_charge,id_material) 
value('00000012','2017-12-12 13:30:00','疫苗A','1000','盒','2号仓库','37摄氏度恒温','每盒60ml','0','0','00000002');

insert into waterfowl.outstorage(id_outstorage,date,name,quantity,unit,id_recorder,id_charge,id_storage) 
value('00000010','2017-01-02 12:30:00','稻谷','100.0','公斤','0','0','00000010');
insert into waterfowl.outstorage(id_outstorage,date,name,quantity,unit,remark,id_recorder,id_charge,id_storage) 
value('00000012','2017-01-02 13:30:00','疫苗A','100','盒','每盒60ml','0','0','00000012');

insert into waterfowl.aquaculture(id,id_outstorage,id_fowlery,record_date,num_total,feed_type,feed_weight,id_recorder,id_charge,id_poultry) 
value('11111110','00000010','0','2017-01-02 13:30:00',100,'稻谷',10.0,'0','0','201701010000');

insert into waterfowl.epidemic(id_epidemic,id_outstorage,id_fowlery,date,sign,diseaes,num_total,num_infected,processing_mode,medication_mode,dose,dose_unit,medication_amount,unit,id_recorder,id_charge,id_poultry) 
value('00000000','00000012','0','2017-01-02 13:30:00','免疫','注射疫苗A',100,100,'注射疫苗A','肌肉注射',1.0,'ml',2.0,'盒','0','0','201701010000');


insert into waterfowl.dictionary(id,name,pid)value(0,'root',0);
insert into waterfowl.dictionary(id,name,pid)value(10,'养殖溯源系统',0);
insert into waterfowl.dictionary(id,name,pid)value(20,'出入情况',10);
insert into waterfowl.dictionary(id,name,pid)value(30,'入库记录',20);
insert into waterfowl.dictionary(id,name,pid)value(40,'出库记录',20);
insert into waterfowl.dictionary(id,name,pid)value(50,'新增入库',20);
insert into waterfowl.dictionary(id,name,pid)value(60,'新增出库',20);

insert into waterfowl.dictionary(id,name,pid)value(70,'库存情况',10);
insert into waterfowl.dictionary(id,name,pid)value(80,'物资记录',70);
insert into waterfowl.dictionary(id,name,pid)value(90,'误录更改',70);

insert into waterfowl.dictionary(id,name,pid)value(100,'禽舍情况',10);
insert into waterfowl.dictionary(id,name,pid)value(110,'新增禽舍',100);
insert into waterfowl.dictionary(id,name,pid)value(120,'信息变更',100);
insert into waterfowl.dictionary(id,name,pid)value(130,'弃用禽舍',100);

insert into waterfowl.dictionary(id,name,pid)value(140,'天气情况',10);
insert into waterfowl.dictionary(id,name,pid)value(150,'录入信息',130);
insert into waterfowl.dictionary(id,name,pid)value(160,'误录修改',130);

insert into waterfowl.dictionary(id,name,pid)value(170,'养殖情况',10);
insert into waterfowl.dictionary(id,name,pid)value(180,'新增记录',170);
insert into waterfowl.dictionary(id,name,pid)value(190,'误录修改',170);

insert into waterfowl.dictionary(id,name,pid)value(200,'疫病情况',10);
insert into waterfowl.dictionary(id,name,pid)value(210,'新增记录',200);
insert into waterfowl.dictionary(id,name,pid)value(220,'误录修改',200);

insert into waterfowl.dictionary(id,name,pid)value(230,'人员管理',10);
insert into waterfowl.dictionary(id,name,pid)value(240,'新增人员',230);
insert into waterfowl.dictionary(id,name,pid)value(250,'修改信息',230);

insert into waterfowl.dictionary(id,name,pid)value(26,'角色管理',1);
insert into waterfowl.dictionary(id,name,pid)value(27,'新增角色',26);
insert into waterfowl.dictionary(id,name,pid)value(28,'删改角色',26);